  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePersistentHashHashes (20150518213536)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "persistent_hash" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "key_name" varchar NOT NULL, "readable_value" varchar NOT NULL, "marshalled" text NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "index_persistent_hash_on_key_name" ON "persistent_hash" ("key_name")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150518213536"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_persistent_hash_on_key_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_persistent_hash_on_key_name' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_persistent_hash_on_key_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_persistent_hash_on_key_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:04:23 UTC'
[0m
SQLite3::SQLException: near "SET": syntax error:         REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:04:23 UTC'

  [1m[36m (0.3ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:08:22 UTC'
[0m
Mysql2::Error: Field 'created_at' doesn't have a default value:         REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:08:22 UTC'

  [1m[36m (0.5ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:10:01 UTC'
[0m
Mysql2::Error: Incorrect datetime value: '2015-05-18 22:10:01 UTC' for column 'updated_at' at row 1:         REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:10:01 UTC'

  [1m[36m (0.5ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'test',
          marshalled     = 'BAhJIgl0ZXN0BjoGRVQ=
',
          updated_at     = '2015-05-18 22:10:25'
[0m
  [1m[35mPersistentHash::Hash Load (0.3ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'hi'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (5.7ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'foo',
          marshalled     = 'BAg6CGZvbw==
',
          updated_at     = '2015-05-18 22:10:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.5ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'hi'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (6.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'hi',
          readable_value = 'blert',
          marshalled     = 'BAg6CmJsZXJ0
',
          updated_at     = '2015-05-18 22:12:54'
[0m
  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (5.7ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = 'val',
          marshalled     = 'BAg6CHZhbA==
',
          updated_at     = '2015-05-18 22:15:38'

  [1m[36mPersistentHash::Hash Load (0.4ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[36m (0.6ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = 'bkert',
          marshalled     = 'BAg6CmJrZXJ0
',
          updated_at     = '2015-05-18 22:26:04'
[0m
  [1m[35m (11.8ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = '2015-05-18T22:26:12Z',
          marshalled     = 'BAhVOiBBY3RpdmVTdXBwb3J0OjpUaW1lV2l0aFpvbmVbCEl1OglUaW1lDVbS
HMCCUMpoBjoJem9uZUkiCFVUQwY6BkVUSSIIVVRDBjsIVEAI
',
          updated_at     = '2015-05-18 22:26:12'

  [1m[36m (0.6ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = '2015-05-18T22:29:02Z',
          marshalled     = 'BAhVOiBBY3RpdmVTdXBwb3J0OjpUaW1lV2l0aFpvbmVbCEl1OglUaW1lDVbS
HMC8bS10BjoJem9uZUkiCFVUQwY6BkVUSSIIVVRDBjsIVEAI
',
          updated_at     = '2015-05-18 22:29:02'
[0m
  [1m[36m (0.6ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = '2015-05-18T22:31:17Z',
          marshalled     = 'BAhVOiBBY3RpdmVTdXBwb3J0OjpUaW1lV2l0aFpvbmVbCEl1OglUaW1lDVbS
HMBYkhJ9BjoJem9uZUkiCFVUQwY6BkVUSSIIVVRDBjsIVEAI
',
          updated_at     = '2015-05-18 22:31:17'
[0m
  [1m[36m (0.5ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = '2015-05-18 22:31:28 UTC',
          marshalled     = 'BAhVOiBBY3RpdmVTdXBwb3J0OjpUaW1lV2l0aFpvbmVbCEl1OglUaW1lDVbS
HMAqFMx9BjoJem9uZUkiCFVUQwY6BkVUSSIIVVRDBjsIVEAI
',
          updated_at     = '2015-05-18 22:31:28'
[0m
  [1m[36m (1.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'key',
          readable_value = '2015-05-18T22:40:55Z',
          marshalled     = 'BAhVOiBBY3RpdmVTdXBwb3J0OjpUaW1lV2l0aFpvbmVbCEl1OglUaW1lDVbS
HMAX4nKjBjoJem9uZUkiCFVUQwY6BkVUSSIIVVRDBjsIVEAI
',
          updated_at     = '2015-05-18 22:40:55'
[0m
  [1m[35mPersistentHash::Hash Load (0.5ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36mPersistentHash::Hash Load (0.4ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'key'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[36m (6.5ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo\',\'bar\'); delete from persistent_hash;',
          readable_value = 'foo',
          marshalled     = 'BAhJIghmb28GOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'
[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo\',\'bar\'); delete from persistent_hash;'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (12.7ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2013-05-19T19:12:30-05:00',
          marshalled     = 'BAhJdToJVGltZQ2AUhyAAADgMQc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'
[0m
  [1m[35m (6.4ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'int',
          readable_value = '5',
          marshalled     = 'BAhpCg==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.4ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'int'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2015-05-19T08:55:28-05:00',
          marshalled     = 'BAhJdToJVGltZQ1t0hyAPwXF3Qc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.3ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `persistent_hash`
  [1m[36m (0.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'
[0m
  [1m[35m (0.4ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'baz',
          marshalled     = 'BAhJIghiYXoGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-17 13:55:28'

  [1m[36mPersistentHash::Hash Load (0.3ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'missing'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'[0m
  [1m[36m (3.1ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo\',\'bar\'); delete from persistent_hash;',
          readable_value = 'foo',
          marshalled     = 'BAhJIghmb28GOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo\',\'bar\'); delete from persistent_hash;'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `persistent_hash`[0m
  [1m[35m (0.4ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2013-05-19T19:12:30-05:00',
          marshalled     = 'BAhJdToJVGltZQ2AUhyAAADgMQc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'

  [1m[36m (0.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'baz',
          marshalled     = 'BAhJIghiYXoGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'int',
          readable_value = '5',
          marshalled     = 'BAhpCg==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'int'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2015-05-19T08:55:44-05:00',
          marshalled     = 'BAhJdToJVGltZQ1t0hyAAqfD3gc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-17 13:55:44'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'missing'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'
[0m
  [1m[35m (0.3ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'baz',
          marshalled     = 'BAhJIghiYXoGOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'int',
          readable_value = '5',
          marshalled     = 'BAhpCg==
',
          updated_at     = '2015-05-19 13:59:57'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'int'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2015-05-19T08:59:57-05:00',
          marshalled     = 'BAhJdToJVGltZQ1t0hyA2GiT7wc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'

  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `persistent_hash`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-17 13:59:57'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2013-05-19T19:12:30-05:00',
          marshalled     = 'BAhJdToJVGltZQ2AUhyAAADgMQc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'
[0m
  [1m[35mPersistentHash::Hash Load (0.2ms)[0m  SELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mPersistentHash::Hash Load (0.1ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'missing'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo\',\'bar\'); delete from persistent_hash;',
          readable_value = 'foo',
          marshalled     = 'BAhJIghmb28GOgZFVA==
',
          updated_at     = '2015-05-19 13:59:57'

  [1m[36mPersistentHash::Hash Load (0.1ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo\',\'bar\'); delete from persistent_hash;'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'
[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `persistent_hash`[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-17 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo\',\'bar\'); delete from persistent_hash;',
          readable_value = 'foo',
          marshalled     = 'BAhJIghmb28GOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.1ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo\',\'bar\'); delete from persistent_hash;'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'int',
          readable_value = '5',
          marshalled     = 'BAhpCg==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.1ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'int'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2015-05-19T09:04:01-05:00',
          marshalled     = 'BAhJdToJVGltZQ1u0hyAH5EZEAc6C29mZnNldGn+sLk6CXpvbmVJIghDRFQG
OgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.1ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'missing'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'
[0m
  [1m[35mPersistentHash::Hash Load (0.1ms)[0m  SELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'
[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'baz',
          marshalled     = 'BAhJIghiYXoGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.`marshalled` FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'time',
          readable_value = '2013-05-20T00:12:30Z',
          marshalled     = 'BAhJdToJVGltZQ2AUhzAAADgMQY6CXpvbmVJIghVVEMGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'time'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'fixnum',
          readable_value = 12.0,
          marshalled     = 'BAhpEQ==
',
          updated_at     = '2015-05-19 14:04:01'

  [1m[36mPersistentHash::Hash Load (0.2ms)[0m  [1mSELECT  `persistent_hash`.* FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'fixnum'  ORDER BY `persistent_hash`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mPersistentHash::Hash Load (0.3ms)[0m  [1mSELECT `persistent_hash`.* FROM `persistent_hash`[0m
  [1m[35m (0.4ms)[0m          REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:04:38'

  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `persistent_hash`
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1m        REPLACE INTO persistent_hash
        SET
          key_name       = 'foo',
          readable_value = 'bar',
          marshalled     = 'BAhJIghiYXIGOgZFVA==
',
          updated_at     = '2015-05-19 14:08:57'
[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `persistent_hash` WHERE `persistent_hash`.`key_name` = 'foo'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `persistent_hash`[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
